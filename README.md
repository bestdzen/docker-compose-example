**Пример создания тестовой среды для разработки на WordPress. Контейнеры Docker**

Для корректной работы измените переменную окружения в файлу .env
PUBLIC_IP=IP_вашего_комьютера
В файл hosts добавьте запись: 
IP_вашего_комьютера example.com
IP_вашего_комьютера www.example.com

Запустите создание контейнеров из образов:
docker-compose --compatibility --env-file .env -f docker-compose.pub.yml up -d

Зайдите в браузере на по сссылке: https://example.com 

**Останов:**
docker-compose --compatibility --env-file .env -f docker-compose.pub.yml down 



**Nginx (proxy):**   1.23.1           1 контейнер

**Nginx (backend):** 1.23.1           2 контейнера

**MariaDB:**         10.6.11          1 контейнер

**WordPress:**       6.1.1-php8.2-fpm 2 контейнера

**Redis:**           5.0.7-alpine     1 контейнер

**phpMyAdmin:**      Latest           1 контейнер

Самоподписанный сертификат SSL для домена example.com

Сеть докера: bridge, 172.16.2.0/24


**Opcache** - его главная задача — единожды скомпилировать каждый PHP-скрипт 
и закэшировать получившиеся опкоды в общую память, чтобы их мог считать и
выполнить каждый рабочий процесс PHP

**Redis** — сетевое журналируемое хранилище данных типа "ключ" — "значение" с открытым исходным кодом.
При загрузке страницы необходимый SQL-запрос извлекается из памяти Redis; благодаря этому база данных не 
перегружается дублируемыми запросами. В результате страница загружается значительно быстрее, а влияние
сервера на ресурсы базы данных уменьшается. Если поступивший запрос не обнаружен в памяти Redis,
он извлекается из базы данных, после чего добавляется в кэш-память Redis.

                                             
                                         |----------------|
                                         | Nginx balancer |
                                         | ssl path-throw | 
                                         |----------------|
                                                 / \ Балансировка нагрузки на web серверы (round-robin)
                                  |--------------------------------|            
                                  | Nginx backend-1 Nginx backend-2| Сжатие gzip, FastCGI cache
                                  |--------------------------------|
                                                / \                  \
                                               /   \                  \
                               Балансировка нагрузки для round-robin 
                      |-------------------------------------------------------|   |----------| 
                      |------- wordpress (php-fpm) wordpress (php-fpm)--------|   |phpMyAdmin|
                      |         Redis Object Cache    Redis Object Cache      |   |----------|   
                      |--------php opcache --------php opcache  --------------|        |
                               Кеш Redis для Wordpress   |                             |
                                         /               |                             |
                                     |-------|        |---------|                      |
                                     | Redis |        | MariaDB |----------------------|
                                     |-------|        |---------|
                         
                                                   
